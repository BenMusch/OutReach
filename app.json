{
  "addons": [
    {
      "plan": "heroku-postgresql:standard-0"
    },
    {
      "plan": "heroku-redis:hobby-dev"
    },
    {
      "plan": "scheduler:standard",
    }
  ],
  "buildpacks": [
    {
      "url": "heroku/nodejs"
    },
    {
      "url": "heroku/ruby"
    }
  ],
  "stack": "heroku-20",
  "description": "Virtual phone-bank on-top of your reach data",
  "scripts": {
    "postdeploy": "bundle exec rails db:migrate"
  },
  "env": {
    "HEROKU_APP_NAME": {
        "required": true,
        "description": "Name for the servers"
    },
    "RAILS_ENV": {
      "value": "production"
    },
    "CAMPAIGN_NAME": {
        "required": true,
        "description": "Name of the campaign (e.g. 'Biden 2020')"
    },
    "TWILIO_ACCOUNT_SID": {
        "required": true
    },
    "TWILIO_AUTH_TOKEN": {
        "required": true
    },
    "TWILIO_VERIFICATION_SID": {
        "required": true
    },
    "SECRET_KEY_BASE": {
        "required": true,
        "description": "Used for encryption. MUST be 256 bits. Ctrl+f '256' on https://randomkeygen.com/"
    },
    "APPLICATION_HOST": {
        "required": true
    },
    "FORCE_SSL": {
        "value": "1"
    },
    "SKYLIGHT_TOKEN": {
        "description": "Token for skylight.io monitoring"
    },
    "ROLLBAR_ACCESS_TOKEN": {
        "description": "Token for rollbar.com monitoring"
    },
    "BIGQUERY_CREDENTIALS_JSON": {
        "description": "JSON of bigquery creds",
        "required": true
    },
    "BIGQUERY_REACH_USERS_QUERY": {
        "description": "Query for reach users"
    },
    "BIGQUERY_REACH_VOTERS_QUERY": {
        "description": "Query for reach voters"
    },
    "BIGQUERY_REACH_RELATIONSHIPS_QUERY": {
        "description": "Query for reach relationships"
    }
  }
}
